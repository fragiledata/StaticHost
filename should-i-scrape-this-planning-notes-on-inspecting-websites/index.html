<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Should I Scrape This? Planning Notes on Inspecting Websites - fragiledata.co.uk</title><meta name="description" content="Web scraping can vary between wildly hard (purposefully or otherwise) and being&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://fragiledata.github.io/StaticHost/should-i-scrape-this-planning-notes-on-inspecting-websites/"><link rel="alternate" type="application/atom+xml" href="https://fragiledata.github.io/StaticHost/feed.xml"><link rel="alternate" type="application/json" href="https://fragiledata.github.io/StaticHost/feed.json"><meta property="og:title" content="Should I Scrape This? Planning Notes on Inspecting Websites"><meta property="og:image" content="https://fragiledata.github.io/StaticHost/media/posts/35/five-thirty-eight-scraping-demo.png"><meta property="og:site_name" content="fragiledata.co.uk"><meta property="og:description" content="Web scraping can vary between wildly hard (purposefully or otherwise) and being&hellip;"><meta property="og:url" content="https://fragiledata.github.io/StaticHost/should-i-scrape-this-planning-notes-on-inspecting-websites/"><meta property="og:type" content="article"><link rel="stylesheet" href="https://fragiledata.github.io/StaticHost/assets/css/style.css?v=a6950391b9d7a19ed4119a1415d4ddee"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://fragiledata.github.io/StaticHost/should-i-scrape-this-planning-notes-on-inspecting-websites/"},"headline":"Should I Scrape This? Planning Notes on Inspecting Websites","datePublished":"2020-02-22T17:35","dateModified":"2022-05-25T19:54","image":{"@type":"ImageObject","url":"https://fragiledata.github.io/StaticHost/media/posts/35/five-thirty-eight-scraping-demo.png","height":969,"width":1789},"description":"Web scraping can vary between wildly hard (purposefully or otherwise) and being&hellip;","author":{"@type":"Person","name":"fragiledata","url":"https://fragiledata.github.io/StaticHost/authors/fragiledata/"},"publisher":{"@type":"Organization","name":"fragiledata"}}</script></head><body><div class="container"><header class="header" id="js-header"><a href="https://fragiledata.github.io/StaticHost/" class="logo">fragiledata.co.uk</a></header><main><article class="post wrapper"><header class="hero"><p class="post__meta">By <a href="https://fragiledata.github.io/StaticHost/authors/fragiledata/" rel="author" title="fragiledata">fragiledata</a> Published on <time datetime="2020-02-22T17:35">Saturday, 22 February 2020</time></p><h1 class="post__title">Should I Scrape This? Planning Notes on Inspecting Websites</h1></header><figure class="post__featured-image post__image--wide"><img src="https://fragiledata.github.io/StaticHost/media/posts/35/five-thirty-eight-scraping-demo.png" srcset="https://fragiledata.github.io/StaticHost/media/posts/35/responsive/five-thirty-eight-scraping-demo-xs.png 300w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/five-thirty-eight-scraping-demo-sm.png 480w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/five-thirty-eight-scraping-demo-md.png 768w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/five-thirty-eight-scraping-demo-lg.png 1024w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/five-thirty-eight-scraping-demo-xl.png 1360w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/five-thirty-eight-scraping-demo-2xl.png 1600w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/five-thirty-eight-scraping-demo-sm2.png 375w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="969" width="1789" alt="An image showing the code underlying FiveThirtyEight&#x27;s football predictions page."></figure><div class="post__entry"><p>Web scraping can vary between wildly hard (purposefully or otherwise) and being the notch below an open API to extract data. However, there are often some hints you can use to check whether or not a particular site will be one of the easy or hard ones.</p><p>Obligatory disclaimer about web scraping: some sites, and owners of those sites, <strong>do not</strong> appreciate being scraped. This might be because scraping effectively is stealing their main commercial product; others might be because of too many inconsiderate scrapers flinging minor DDOS attacks every time they test their scraping tools. Be <a href="https://towardsdatascience.com/ethics-in-web-scraping-b96b18136f01">a mindful scraper</a>, check the site's <a href="https://support.google.com/webmasters/answer/6062608?hl=en">robots.txt file</a>, and be mindful of the owners and purpose of the site itself.</p><h4>1. Not all APIs are public</h4><p>Just because a data provider doesn't have a public API (though if they have, you should use it), that doesn't mean they aren't using a database organised in a similar way to provision data to users on their site. Sites with more modern protocols tend to fall into this category, which tend to have the following features;</p><ul><li>The URL paths are well structured</li><li>Data objects referred to by codes in the code, not their names (this may be another field).</li><li>Browsing through the pages, the layouts tend to approach identical.</li></ul><figure class="alignnone size-full wp-image-475"><img loading="lazy" src="https://fragiledata.github.io/StaticHost/media/posts/35/fifa-internal-data-structure.png" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://fragiledata.github.io/StaticHost/media/posts/35/responsive/fifa-internal-data-structure-xs.png 300w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/fifa-internal-data-structure-sm.png 480w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/fifa-internal-data-structure-md.png 768w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/fifa-internal-data-structure-lg.png 1024w" alt="FIFA internal data structure" width="861" height="1047"></figure>The URLs reveal the order in place behind FIFA's site.<p></p><p>FIFA is a good example of this. Looking at their site for the Women's World Cup, teams, players and games tend to follow specific patterns of presentations in their web pages, because as you can see from the URLs, the data is following a similar kind of pattern to basic API calls. If we open the web console and check out the Sources used in the page, we can see that this is actually the case; FIFA is using an internal API to supply pictures (at a very minimum) to the page.</p><figure class="alignnone size-full wp-image-519"><img loading="lazy" src="https://fragiledata.github.io/StaticHost/media/posts/35/marta-fifa-api-result.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://fragiledata.github.io/StaticHost/media/posts/35/responsive/marta-fifa-api-result-xs.jpg 300w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/marta-fifa-api-result-sm.jpg 480w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/marta-fifa-api-result-md.jpg 768w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/marta-fifa-api-result-lg.jpg 1024w" alt="Picture of the API request which returns a photo of Marta, a Brazilian football player." width="604" height="451"></figure>Showing us the API call to load Marta's team picture.<p></p><h4>2. There aren't loads of jazzy JS and other friends plugins</h4><p>Add-ins which enhance user experience, whether ranging from chart presentation like D3, or setting specific formats of an experience object like AML, can create speed bumps for any desired scraping. This is because data objects are often obscured by other frames and objects, making them harder to parse in the first place, and introducing layers of potential variation between one page and another, foiling attempts to create templates. Consider this example from <a href="https://projects.fivethirtyeight.com/soccer-predictions/">FiveThirtyEight</a>, with football predictions for selected leads:</p><figure class="alignnone size-full wp-image-474"><img loading="lazy" src="https://fragiledata.github.io/StaticHost/media/posts/35/five-thirty-eight-scraping-demo.png" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://fragiledata.github.io/StaticHost/media/posts/35/responsive/five-thirty-eight-scraping-demo-xs.png 300w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/five-thirty-eight-scraping-demo-sm.png 480w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/five-thirty-eight-scraping-demo-md.png 768w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/five-thirty-eight-scraping-demo-lg.png 1024w" alt="Five Thirty Eight Scraping Demo" width="1789" height="969"></figure>What makes FiveThirtyEight great for humans to use is a bit of an obstacle to machines.<p></p><p>Inspecting the site, one might hope it would be easy to go in and out to each table and obtain predictions for all the leagues. However, because the link to view the whole table doesn't work like a standard h ref html tag, you might be sorting through the page code for a long time looking for the links, or be employing more sophisticated tools which can simulate page interaction (such as testing tools) in order to load all the data you need.</p><h4>3. The object layouts and content standards are <em>actually</em> identical</h4><p>During training, when we were learning web scraping at The Data School, <a href="https://twitter.com/KirstyFraser_">a colleague</a> and I had to scrape some financial information from NASDAQ listed companies on Wikipedia. The information we needed was only that which exists in those little info panels we have come to know and love. These panels look essentially the same to humans, but under the hood, and to things which can't read (like machines), they're not.</p><figure class="alignnone size-full wp-image-517"><img loading="lazy" style="color: var(--color-text);" src="https://fragiledata.github.io/StaticHost/media/posts/35/different-wiki-boxes.png" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://fragiledata.github.io/StaticHost/media/posts/35/responsive/different-wiki-boxes-xs.png 300w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/different-wiki-boxes-sm.png 480w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/different-wiki-boxes-md.png 768w, https://fragiledata.github.io/StaticHost/media/posts/35/responsive/different-wiki-boxes-lg.png 1024w" alt="different wiki boxes" width="954" height="600"></figure>The fine line between human comprehension and machine reading.<p></p><p>When sites deliver information in the manner of #1, the content is being delivered to a framework replicated on each page. So scrape one page in a category, and you've probably got 90% of the category if you needed it, as the data input must conform to certain principles for however it's stored. Flexible sites like Wikipedia however, are human edited and do not enforce rigid principles in the same way a database would. My colleague and I struggled to normalise the data in the time limit that we had (which was about 3 hours) because of the different things we had to accommodate, such as multiple dates, different icons, and different ways of writing numbers. Sites like this illustrate the difference between humans grasping comprehension (which can tolerate these variances) and machines "reading", which cannot unless programmed to accommodate them specifically.</p><p>Hopefully this provides some help to people planning scraping projects in the future!</p></div><footer class="post__footer"><div class="post__last-updated">This article was updated on Wednesday, 25 May 2022</div><div class="post__footer__col"><ul class="post__tag"><li><a href="https://fragiledata.github.io/StaticHost/tags/data-analysis/">Data Analysis</a></li><li><a href="https://fragiledata.github.io/StaticHost/tags/tools-and-tech/">Tools and Tech</a></li></ul><div class="post__share"></div></div><nav class="post__nav"><div class="post__nav__prev">Previous Post<h5><a href="https://fragiledata.github.io/StaticHost/2019-ncov-spread-in-chinese-provinces/" class="inverse" rel="prev">2019-nCoV: Spread In Chinese Provinces</a></h5></div><div class="post__nav__next">Next Post<h5><a href="https://fragiledata.github.io/StaticHost/nypd-green-visualising-police-spend-in-selected-international-cities/" class="inverse" rel="next">NYPD Green? Visualising Police Spend in Selected International Cities</a></h5></div></nav></footer></article></main><footer class="footer"><div class="footer__copyright">Powered by Publii</div><div class="footer__social"><a href="www.twitter.com/fragiledata" class="twitter" aria-label="Twitter"><svg class="icon"><use xlink:href="https://fragiledata.github.io/StaticHost/assets/svg/svg-map.svg#twitter"/></svg></a></div></footer></div><script defer="defer" src="https://fragiledata.github.io/StaticHost/assets/js/scripts.min.js?v=b1f07db09e44ca999e985e714f8eba4e"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.navbar'};</script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script></body></html>